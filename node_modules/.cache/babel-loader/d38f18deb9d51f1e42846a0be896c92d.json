{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\INOVA\\\\newsystem\\\\manager\\\\src\\\\Components\\\\Profile\\\\EditProfile.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { SessionContext } from \"../../Context/Session\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class EditProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSetState = event => {\n      let value = event.target.value;\n      let name = event.target.name;\n      let newFormData = this.state.formData;\n      newFormData[name] = value;\n      this.setState({\n        formData: newFormData\n      });\n    };\n\n    this.formSend = async event => {\n      event.preventDefault();\n      var data = this.state.formData;\n      let userInfo = JSON.parse(localStorage.getItem('user-info'));\n      axios.interceptors.request.use(config => {\n        config.headers.authorization = `Bearer ${userInfo.user.token}`;\n        return config;\n      }, error => {\n        return Promise.reject(error);\n      });\n      let response = await axios.put(`http://127.0.0.1:8000/api/managers/manager/${this.props.user.id}`, data);\n\n      if (response.data.status === 'success') {\n        NotificationManager.success('Məlumatlar dəyişdirildi.', 'Success', 5000);\n        userInfo['user']['user_info'] = response.data.user;\n        localStorage.setItem('user-info', JSON.stringify(userInfo));\n        this.context.setSession(response.data.status, userInfo);\n      }\n\n      if (response.data.status === 'error') {\n        let message = response.data.message;\n\n        for (const [key, value] of Object.entries(message)) {\n          NotificationManager.error(value, 'Error', 5000);\n        }\n      }\n    };\n\n    this.state = {\n      genders: [{\n        value: '',\n        name: '-- Select --'\n      }, {\n        value: 'male',\n        name: 'Male'\n      }, {\n        value: 'female',\n        name: 'Female'\n      }],\n      formData: {\n        first_name: this.props.user.first_name,\n        last_name: this.props.user.last_name,\n        email: this.props.user.email,\n        date: this.props.user.date,\n        mobile: this.props.user.mobile,\n        phone: this.props.user.phone,\n        gender: this.props.user.gender,\n        note: this.props.user.note\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"modal fade bd-example-modal-lg\",\n        id: \"exampleModal\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalLabel\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-dialog modal-lg\",\n          role: \"document\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.formSend,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"modal-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  class: \"modal-title\",\n                  id: \"exampleModalLabel\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"close\",\n                  \"data-dismiss\": \"modal\",\n                  \"aria-label\": \"Close\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    \"aria-hidden\": \"true\",\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"First Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 87,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"first_name\",\n                          type: \"text\",\n                          onChange: this.handleSetState,\n                          required: true,\n                          value: this.state.formData.first_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 89,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 88,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"Last Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"last_name\",\n                          type: \"text\",\n                          onChange: this.handleSetState,\n                          required: true,\n                          value: this.state.formData.last_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 97,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"email\",\n                          type: \"email\",\n                          onChange: this.handleSetState,\n                          required: true,\n                          value: this.state.formData.email\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 107,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"Gender\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"select\", {\n                          name: \"gender\",\n                          onChange: this.handleSetState,\n                          className: \"form-control\",\n                          children: this.state.genders.map((gender, key) => {\n                            if (this.state.formData.gender === gender.value) {\n                              return /*#__PURE__*/_jsxDEV(\"option\", {\n                                selected: true,\n                                value: gender.value,\n                                children: gender.name\n                              }, key, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 120,\n                                columnNumber: 72\n                              }, this);\n                            } else {\n                              return /*#__PURE__*/_jsxDEV(\"option\", {\n                                value: gender.value,\n                                children: gender.name\n                              }, key, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 123,\n                                columnNumber: 72\n                              }, this);\n                            }\n                          })\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"Mobile\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"mobile\",\n                          type: \"text\",\n                          onChange: this.handleSetState,\n                          required: true,\n                          value: this.state.formData.mobile\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"Phone\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"phone\",\n                          type: \"text\",\n                          onChange: this.handleSetState,\n                          value: this.state.formData.phone\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 146,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-3 col-form-label\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-9\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"date\",\n                          type: \"text\",\n                          onChange: this.handleSetState,\n                          required: true,\n                          value: this.state.formData.date\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 156,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"col-4 col-sm-2 col-form-label\",\n                        children: \"Comment\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-8 col-sm-10\",\n                        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                          className: \"form-control\",\n                          name: \"note\",\n                          cols: \"20\",\n                          rows: \"5\",\n                          onChange: this.handleSetState,\n                          children: this.state.formData.note\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 166,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"modal-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"reset\",\n                  class: \"btn btn-secondary\",\n                  \"data-dismiss\": \"modal\",\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-primary\",\n                  children: \"Save changes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\nEditProfile.contextType = SessionContext;","map":{"version":3,"sources":["C:/wamp64/www/INOVA/newsystem/manager/src/Components/Profile/EditProfile.js"],"names":["React","Component","axios","NotificationContainer","NotificationManager","SessionContext","EditProfile","constructor","props","handleSetState","event","value","target","name","newFormData","state","formData","setState","formSend","preventDefault","data","userInfo","JSON","parse","localStorage","getItem","interceptors","request","use","config","headers","authorization","user","token","error","Promise","reject","response","put","id","status","success","setItem","stringify","context","setSession","message","key","Object","entries","genders","first_name","last_name","email","date","mobile","phone","gender","note","render","map","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport { SessionContext } from \"../../Context/Session\";\r\n\r\nexport default class EditProfile extends Component {\r\n    static contextType = SessionContext;\r\n    constructor (props){\r\n        super(props)\r\n        this.state = {\r\n            genders: [\r\n                {value: '', name: '-- Select --'},\r\n                {value: 'male', name: 'Male'},\r\n                {value: 'female', name: 'Female'},\r\n            ],\r\n            formData: {first_name: this.props.user.first_name,\r\n                        last_name: this.props.user.last_name,\r\n                        email: this.props.user.email,\r\n                        date: this.props.user.date,\r\n                        mobile: this.props.user.mobile,\r\n                        phone: this.props.user.phone,\r\n                        gender: this.props.user.gender,\r\n                        note: this.props.user.note\r\n                    }\r\n            \r\n        }\r\n        \r\n    }\r\n    handleSetState = event => {\r\n        let value = event.target.value\r\n        let name = event.target.name\r\n        let newFormData = this.state.formData;\r\n        newFormData[name] = value\r\n        this.setState({\r\n            formData: newFormData\r\n        })\r\n    }\r\n    formSend = async (event) => {\r\n        event.preventDefault();\r\n        \r\n        var data = this.state.formData\r\n\r\n        let userInfo = JSON.parse(localStorage.getItem('user-info'))\r\n        axios.interceptors.request.use(\r\n            config => {\r\n                config.headers.authorization = `Bearer ${userInfo.user.token}`;\r\n                return config;\r\n            },\r\n            error => {\r\n                return Promise.reject(error)\r\n            }\r\n        )\r\n\r\n        let response = await axios.put(`http://127.0.0.1:8000/api/managers/manager/${this.props.user.id}`, data)\r\n        if(response.data.status === 'success'){\r\n            NotificationManager.success('Məlumatlar dəyişdirildi.', 'Success', 5000);\r\n            userInfo['user']['user_info'] = response.data.user;\r\n            localStorage.setItem('user-info', JSON.stringify(userInfo))\r\n            this.context.setSession(response.data.status, userInfo)\r\n        }\r\n        if(response.data.status === 'error'){\r\n            let message = response.data.message;\r\n            for (const [key, value] of Object.entries(message)) {\r\n                NotificationManager.error(value, 'Error', 5000);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            <NotificationContainer/>\r\n            <div class=\"modal fade bd-example-modal-lg\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n                    <form onSubmit={this.formSend}>\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Edit</h5>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">First Name</label>\r\n                                            <div className=\"col-9\">\r\n                                                <input className=\"form-control\" name=\"first_name\" type=\"text\" onChange={this.handleSetState} required value={this.state.formData.first_name} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">Last Name</label>\r\n                                            <div className=\"col-9\">\r\n                                                <input className=\"form-control\" name=\"last_name\" type=\"text\" onChange={this.handleSetState} required value={this.state.formData.last_name}/>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">Email</label>\r\n                                            <div className=\"col-9\">\r\n                                                <input className=\"form-control\" name=\"email\" type=\"email\" onChange={this.handleSetState} required value={this.state.formData.email}/>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">Gender</label>\r\n                                            <div className=\"col-9\">\r\n                                            \r\n                                                <select name=\"gender\" onChange={this.handleSetState} className=\"form-control\">\r\n                                                    {\r\n                                                        this.state.genders.map((gender, key) => {\r\n                                                            if(this.state.formData.gender === gender.value){\r\n                                                                return <option key={key}  selected value={gender.value}>{gender.name}</option>\r\n                                                            }\r\n                                                            else{\r\n                                                                return <option key={key} value={gender.value}>{gender.name}</option>\r\n                                                            }\r\n                                                            \r\n                                                        })\r\n                                                    }\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">Mobile</label>\r\n                                            <div className=\"col-9\">\r\n                                                <input className=\"form-control\" name=\"mobile\" type=\"text\" onChange={this.handleSetState} required value={this.state.formData.mobile} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">Phone</label>\r\n                                            <div className=\"col-9\">\r\n                                                <input className=\"form-control\" name=\"phone\" type=\"text\" onChange={this.handleSetState} value={this.state.formData.phone}/>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-6\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-3 col-form-label\">Date</label>\r\n                                            <div className=\"col-9\">\r\n                                                <input className=\"form-control\" name=\"date\" type=\"text\" onChange={this.handleSetState} required value={this.state.formData.date} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"row form-group\">\r\n                                            <label className=\"col-4 col-sm-2 col-form-label\">Comment</label>\r\n                                            <div className=\"col-8 col-sm-10\">\r\n                                                <textarea className=\"form-control\" name=\"note\" cols=\"20\" rows=\"5\" onChange={this.handleSetState} >{this.state.formData.note}</textarea>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"reset\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                                <button type=\"submit\" class=\"btn btn-primary\">Save changes</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}