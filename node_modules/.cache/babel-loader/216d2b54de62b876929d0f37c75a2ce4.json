{"ast":null,"code":"import _regeneratorRuntime from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{NotificationContainer,NotificationManager}from'react-notifications';import'react-notifications/lib/notifications.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddCorparate=/*#__PURE__*/function(_Component){_inherits(AddCorparate,_Component);var _super=_createSuper(AddCorparate);function AddCorparate(props){var _this;_classCallCheck(this,AddCorparate);_this=_super.call(this,props);_this.handleFormData=function(event){var value=event.target.value;var name=event.target.name;_this.props.setData(name,value);};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=_this.props.data;_this.setState({data:data});case 2:case\"end\":return _context.stop();}}},_callee);}));_this.sendForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var data,userInfo,response,message,_i,_Object$values,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();data=_this.state.data;userInfo=JSON.parse(localStorage.getItem('user-info'));axios.interceptors.request.use(function(config){config.headers.authorization=\"Bearer \".concat(userInfo.user.token);return config;},function(error){return Promise.reject(error);});response=\"\";if(!(_this.props.edit===0)){_context2.next=11;break;}_context2.next=8;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/managers/clients\"),data);case 8:response=_context2.sent;_context2.next=14;break;case 11:_context2.next=13;return axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/managers/clients/\").concat(_this.props.edit),data);case 13:response=_context2.sent;case 14:if(response.data.status==='success'){NotificationManager.success('Corparative musteri əlavə edildi.','Success',5000);_this.props.load();}if(response.data.status==='error'){message=response.data.message;for(_i=0,_Object$values=Object.values(message);_i<_Object$values.length;_i++){value=_Object$values[_i];NotificationManager.error(value,'Error',5000);}}case 16:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.click=function(e){if(e.target.classList.contains('hide-modal')){_this.props.removeComponent();}};_this.state={data:[]};return _this;}_createClass(AddCorparate,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NotificationContainer,{}),/*#__PURE__*/_jsx(\"div\",{class:\"modal fade bd-example-modal-lg hide-modal\",id:\"exampleModal\",onClick:this.click,tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog modal-lg hide-modal\",role:\"document\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.sendForm,children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{class:\"modal-title\",id:\"exampleModalLabel\",children:[this.props.edit?'Edit':'Add',\" corparate clienst\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close hide-modal\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",className:\"hide-modal\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-body\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"form-group row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label\",children:\"Name *:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control\",name:\"name\",value:this.props.data.name,onChange:this.handleFormData})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label text-sm-center\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control\",name:\"address\",value:this.props.data.address,onChange:this.handleFormData})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label\",children:\"Mobile:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control\",name:\"mobile\",value:this.props.data.mobile,onChange:this.handleFormData})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label text-sm-center\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control\",name:\"phone\",value:this.props.data.phone,onChange:this.handleFormData})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:this.props.data.email,onChange:this.handleFormData})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label text-sm-center\",children:\"Website:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"http://\",className:\"form-control\",name:\"website\",value:this.props.data.website,onChange:this.handleFormData})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"status\",value:this.props.data.status,onChange:this.handleFormData,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Passiv\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Aktiv\"})]})})]})})})})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-3 col-form-label\",children:\"Note:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-9\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"note\",value:this.props.data.note,onChange:this.handleFormData})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"reset\",class:\"btn btn-default hide-modal\",\"data-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-success\",children:\"Save\"})]})]})})})})]});}}]);return AddCorparate;}(Component);export{AddCorparate as default};","map":{"version":3,"sources":["C:/wamp64/www/INOVA/newsystem/manager/src/Components/Company/Modals/AddCorparate.js"],"names":["React","Component","axios","NotificationContainer","NotificationManager","AddCorparate","props","handleFormData","event","value","target","name","setData","componentDidMount","data","setState","sendForm","preventDefault","state","userInfo","JSON","parse","localStorage","getItem","interceptors","request","use","config","headers","authorization","user","token","error","Promise","reject","response","edit","post","process","env","REACT_APP_API_URL","put","status","success","load","message","Object","values","click","e","classList","contains","removeComponent","address","mobile","phone","email","website","note"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nexport default class AddCorparate extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            data: []\r\n        }\r\n    }\r\n      \r\n    handleFormData = event => {\r\n        let value = event.target.value\r\n        let name = event.target.name\r\n        this.props.setData(name, value)\r\n    }\r\n    componentDidMount = async () => {\r\n        let data = this.props.data\r\n        this.setState({ data: data})\r\n    }\r\n\r\n    sendForm = async (event) => {\r\n        event.preventDefault()\r\n\r\n        let data = this.state.data\r\n        let userInfo = JSON.parse(localStorage.getItem('user-info'))\r\n        axios.interceptors.request.use(\r\n            config => {\r\n                config.headers.authorization = `Bearer ${userInfo.user.token}`;\r\n                return config;\r\n            },\r\n            error => {\r\n                return Promise.reject(error)\r\n            }\r\n        )\r\n        let response = \"\"\r\n        if(this.props.edit === 0){\r\n            response= await axios.post(`${process.env.REACT_APP_API_URL}/managers/clients`, data)\r\n        }\r\n        else{\r\n            response = await axios.put(`${process.env.REACT_APP_API_URL}/managers/clients/${this.props.edit}`, data)\r\n        }\r\n\r\n        if(response.data.status === 'success'){\r\n            NotificationManager.success('Corparative musteri əlavə edildi.', 'Success', 5000);\r\n            this.props.load()\r\n        }\r\n        if(response.data.status === 'error'){\r\n            let message = response.data.message;\r\n            for (const value of Object.values(message)) {\r\n                NotificationManager.error(value, 'Error', 5000);\r\n            }\r\n        }\r\n\r\n    }\r\n    click = (e) => {\r\n        if (e.target.classList.contains('hide-modal')) {\r\n            this.props.removeComponent()\r\n        }\r\n    }\r\n      \r\n    render() {\r\n        return (\r\n            <>\r\n            <NotificationContainer/>\r\n            <div class=\"modal fade bd-example-modal-lg hide-modal\" id=\"exampleModal\" onClick={this.click}  tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog modal-lg hide-modal\" role=\"document\">\r\n                <form onSubmit={this.sendForm}>\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{(this.props.edit) ? 'Edit' : 'Add'} corparate clienst</h5>\r\n                            <button type=\"button\" class=\"close hide-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\" className=\"hide-modal\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            \r\n                                <div class=\"form-group row\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label\">\r\n                                                        Name *:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <input type=\"tel\" className=\"form-control\" name=\"name\" value={this.props.data.name} onChange={this.handleFormData} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label text-sm-center\">\r\n                                                        Address:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <input type=\"tel\" className=\"form-control\" name=\"address\" value={this.props.data.address} onChange={this.handleFormData} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label\">\r\n                                                        Mobile:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <input type=\"tel\" className=\"form-control\" name=\"mobile\" value={this.props.data.mobile} onChange={this.handleFormData} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label text-sm-center\">\r\n                                                        Phone:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <input type=\"tel\" className=\"form-control\" name=\"phone\" value={this.props.data.phone} onChange={this.handleFormData} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label\">\r\n                                                        Email:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <input type=\"email\" className=\"form-control\" name=\"email\" value={this.props.data.email} onChange={this.handleFormData} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label text-sm-center\">\r\n                                                        Website:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <input type=\"url\" placeholder=\"http://\" className=\"form-control\" name=\"website\" value={this.props.data.website} onChange={this.handleFormData} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group row\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-sm-6\">\r\n                                                <div className=\"row\">\r\n                                                    <label className=\"col-4 col-sm-6 col-form-label\">\r\n                                                        Status:\r\n                                                </label>\r\n                                                    <div className=\"col-8 col-sm-6\">\r\n                                                        <select className=\"form-control\" name=\"status\" value={this.props.data.status} onChange={this.handleFormData}>\r\n                                                            <option value=\"0\">Passiv</option>\r\n                                                            <option value=\"1\">Aktiv</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"form-group row\">\r\n                                    <div className=\"col-12\">\r\n                                        <div className=\"row\">\r\n                                            <label className=\"col-4 col-sm-3 col-form-label\">\r\n                                                Note:\r\n                                            </label>\r\n                                            <div className=\"col-8 col-sm-9\">\r\n                                            <textarea className=\"form-control\" name=\"note\" value={this.props.data.note} onChange={this.handleFormData}></textarea>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            \r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"reset\" class=\"btn btn-default hide-modal\" data-dismiss=\"modal\">Close</button>\r\n                            <button type=\"submit\" class=\"btn btn-success\">Save</button>\r\n                        </div>\r\n                    </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}