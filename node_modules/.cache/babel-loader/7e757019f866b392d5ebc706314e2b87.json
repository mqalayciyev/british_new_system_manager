{"ast":null,"code":"import _slicedToArray from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/wamp64/www/INOVA/newsystem/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{NotificationContainer,NotificationManager}from'react-notifications';import'react-notifications/lib/notifications.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Add=/*#__PURE__*/function(_Component){_inherits(Add,_Component);var _super=_createSuper(Add);function Add(props){var _this;_classCallCheck(this,Add);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userInfo,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userInfo=JSON.parse(localStorage.getItem('user-info'));axios.interceptors.request.use(function(config){config.headers.authorization=\"Bearer \".concat(userInfo.user.token);return config;},function(error){return Promise.reject(error);});data=_this.props.data;_this.setState({data:data});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.click=function(e){if(e.target.classList.contains('hide-modal')){_this.props.removeComponent();}};_this.handleFormData=function(event){var value=event.target.value;var name=event.target.name;var newData=_this.state.data;newData[name]=value;_this.setState({data:newData});};_this.sendForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var data,userInfo,response,message,_i,_Object$entries,_Object$entries$_i,key,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();data=_this.state.data;userInfo=JSON.parse(localStorage.getItem('user-info'));axios.interceptors.request.use(function(config){config.headers.authorization=\"Bearer \".concat(userInfo.user.token);return config;},function(error){return Promise.reject(error);});response=\"\";if(!(_this.props.edit===0)){_context2.next=11;break;}_context2.next=8;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/managers/tasks\"),data);case 8:response=_context2.sent;_context2.next=14;break;case 11:_context2.next=13;return axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/managers/tasks/\").concat(_this.props.edit),data);case 13:response=_context2.sent;case 14:console.log(response.data);if(response.data.status==='success'){NotificationManager.success('Tapsiriq əlavə edildi.','Success',5000);_this.props.load();}if(response.data.status==='error'){message=response.data.message;for(_i=0,_Object$entries=Object.entries(message);_i<_Object$entries.length;_i++){_Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];NotificationManager.error(value,'Error',5000);}}case 17:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.state={data:{}};return _this;}_createClass(Add,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NotificationContainer,{}),/*#__PURE__*/_jsx(\"div\",{class:\"modal fade bd-example-modal-lg hide-modal\",id:\"exampleModal\",onClick:this.click,tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog modal-lg hide-modal\",role:\"document\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.sendForm,children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{class:\"modal-title\",id:\"exampleModalLabel\",children:[this.props.edit!==0?'Edit':'Add',\" task\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close hide-modal\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{className:\"hide-modal\",\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4  col-form-label\",children:\"Start:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 \",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",name:\"start_date\",value:this.props.data.start_date,onChange:this.handleFormData})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4  col-form-label\",children:\"End:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",name:\"end_date\",value:this.props.data.end_date,onChange:this.handleFormData})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row form-group mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Period of time:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 mt-3 mt-sm-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"time\",className:\"form-control\",title:\"Start time\",name:\"start_time\",value:this.props.data.start_time,onChange:this.handleFormData})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"time\",className:\"form-control\",title:\"End time\",name:\"end_time\",value:this.props.data.end_time,onChange:this.handleFormData})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-4 col-sm-6 col-form-label\",children:\"Priority:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-sm-6\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",name:\"priority\",value:this.props.data.priority,onChange:this.handleFormData,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Priority --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Middle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"High\"})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row border rounded mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"offset-4 offset-sm-3 col-8 FormField\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.setState({communication:!_this2.state.communication});},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1em'},className:\"mr-1\",children:/*#__PURE__*/_jsx(\"i\",{class:this.state.communication?'fas fa-caret-down':'fas fa-caret-right'})}),\"Add communication\"]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 \",style:this.state.communication?{display:'block'}:{display:'none'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Client:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 mt-3 mt-sm-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"client\",value:this.props.data.client,onChange:this.handleFormData})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Purpose:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 mt-3 mt-sm-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"purpose\",value:this.props.data.purpose,onChange:this.handleFormData})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Contact:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 mt-3 mt-sm-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",className:\"form-control\",name:\"email\",value:this.props.data.email,onChange:this.handleFormData})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"mobile\",placeholder:\"Mobile\",className:\"form-control\",name:\"mobile\",value:this.props.data.mobile,onChange:this.handleFormData})})]})})]})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row form-group mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Description *:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 mt-3 mt-sm-0\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"note\",value:this.props.data.note,onChange:this.handleFormData})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"reset\",class:\"btn btn-default hide-modal\",\"data-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-success\",children:\"Save\"})]})]})})})})]});}}]);return Add;}(Component);export{Add as default};","map":{"version":3,"sources":["C:/wamp64/www/INOVA/newsystem/manager/src/Components/MyTasks/Add.js"],"names":["React","Component","axios","NotificationContainer","NotificationManager","Add","props","componentDidMount","userInfo","JSON","parse","localStorage","getItem","interceptors","request","use","config","headers","authorization","user","token","error","Promise","reject","data","setState","click","e","target","classList","contains","removeComponent","handleFormData","event","value","name","newData","state","sendForm","preventDefault","response","edit","post","process","env","REACT_APP_API_URL","put","console","log","status","success","load","message","Object","entries","key","start_date","end_date","start_time","end_time","priority","communication","fontSize","display","client","purpose","email","mobile","note"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nexport default class Add extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            data: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        let userInfo = JSON.parse(localStorage.getItem('user-info'))\r\n        axios.interceptors.request.use(\r\n            config => {\r\n                config.headers.authorization = `Bearer ${userInfo.user.token}`;\r\n                return config;\r\n            },\r\n            error => {\r\n                return Promise.reject(error)\r\n            }\r\n        )\r\n        let data = this.props.data\r\n        this.setState({ data: data })\r\n    }\r\n    click = (e) => {\r\n        if (e.target.classList.contains('hide-modal')) {\r\n            this.props.removeComponent()\r\n        }\r\n    }\r\n    handleFormData = event => {\r\n        let value = event.target.value\r\n        let name = event.target.name\r\n\r\n        let newData = this.state.data;\r\n        newData[name] = value\r\n\r\n        this.setState({ data: newData })\r\n    }\r\n\r\n    sendForm = async (event) => {\r\n        event.preventDefault()\r\n\r\n        let data = this.state.data\r\n        let userInfo = JSON.parse(localStorage.getItem('user-info'))\r\n        axios.interceptors.request.use(\r\n            config => {\r\n                config.headers.authorization = `Bearer ${userInfo.user.token}`;\r\n                return config;\r\n            },\r\n            error => {\r\n                return Promise.reject(error)\r\n            }\r\n        )\r\n        let response = \"\"\r\n        if (this.props.edit === 0) {\r\n            response = await axios.post(`${process.env.REACT_APP_API_URL}/managers/tasks`, data)\r\n        }\r\n        else {\r\n            response = await axios.put(`${process.env.REACT_APP_API_URL}/managers/tasks/${this.props.edit}`, data)\r\n        }\r\n        console.log(response.data)\r\n        if (response.data.status === 'success') {\r\n            NotificationManager.success('Tapsiriq əlavə edildi.', 'Success', 5000);\r\n            this.props.load()\r\n        }\r\n        if (response.data.status === 'error') {\r\n            let message = response.data.message;\r\n            for (const [key, value] of Object.entries(message)) {\r\n                NotificationManager.error(value, 'Error', 5000);\r\n            }\r\n        }\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <NotificationContainer />\r\n                <div class=\"modal fade bd-example-modal-lg hide-modal\" id=\"exampleModal\" onClick={this.click} tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                    <div class=\"modal-dialog modal-lg hide-modal\" role=\"document\">\r\n                        <form onSubmit={this.sendForm}>\r\n                            <div class=\"modal-content\">\r\n                                <div class=\"modal-header\">\r\n                                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">{(this.props.edit !== 0) ? 'Edit' : 'Add'} task</h5>\r\n                                    <button type=\"button\" class=\"close hide-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <span className=\"hide-modal\" aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                </div>\r\n                                <div class=\"modal-body\">\r\n\r\n                                    <div class=\"form-group row\">\r\n                                        <div className=\"col-sm-6\">\r\n                                            <div className=\"row\">\r\n                                                <label className=\"col-4  col-form-label\">\r\n                                                    Start:\r\n                                        </label>\r\n                                                <div className=\"col-8 \">\r\n                                                    <input type=\"date\" className=\"form-control\" name=\"start_date\" value={this.props.data.start_date} onChange={this.handleFormData} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-sm-6\">\r\n                                            <div className=\"row\">\r\n                                                <label className=\"col-4  col-form-label\">\r\n                                                    End:\r\n                                        </label>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"date\" className=\"form-control\" name=\"end_date\" value={this.props.data.end_date} onChange={this.handleFormData} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row form-group mt-2\">\r\n                                        <div className=\"col-12\">\r\n                                            <div className=\"row\">\r\n                                                <label className=\"col-sm-3 col-form-label\">\r\n                                                    Period of time:\r\n                                        </label>\r\n                                                <div className=\"col-sm-9 mt-3 mt-sm-0\">\r\n                                                    <div className=\"form-group row\">\r\n                                                        <div className=\"col-6\">\r\n                                                            <input type=\"time\" className=\"form-control\" title=\"Start time\" name=\"start_time\" value={this.props.data.start_time} onChange={this.handleFormData} />\r\n                                                        </div>\r\n                                                        <div className=\"col-6\">\r\n                                                            <input type=\"time\" className=\"form-control\" title=\"End time\" name=\"end_time\" value={this.props.data.end_time} onChange={this.handleFormData} />\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-sm-6\">\r\n                                            <div className=\"row\">\r\n                                                <label className=\"col-4 col-sm-6 col-form-label\">\r\n                                                    Priority:\r\n                                            </label>\r\n                                                <div className=\"col-8 col-sm-6\">\r\n                                                    <select className=\"form-control\" name=\"priority\" value={this.props.data.priority} onChange={this.handleFormData}>\r\n                                                        <option value=\"\">-- Priority --</option>\r\n                                                        <option value=\"0\">Low</option>\r\n                                                        <option value=\"1\">Middle</option>\r\n                                                        <option value=\"2\">High</option>\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"form-group row border rounded mt-3\">\r\n                                        <div className=\"col-12 py-2\">\r\n                                            <div className=\"row\">\r\n                                                <div className=\"offset-4 offset-sm-3 col-8 FormField\">\r\n                                                    <a href=\"javascript:void(0)\" onClick={() => this.setState({ communication: !this.state.communication })}>\r\n                                                        <span style={{ fontSize: '1em' }} className=\"mr-1\"><i class={(this.state.communication) ? 'fas fa-caret-down' : 'fas fa-caret-right'}></i></span>\r\n                                                Add communication\r\n                                            </a>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-12 \" style={(this.state.communication) ? { display: 'block' } : { display: 'none' }}>\r\n                                            <div className=\"row form-group\">\r\n                                                <div className=\"col-12\">\r\n                                                    <div className=\"row\">\r\n                                                        <label className=\"col-sm-3 col-form-label\">\r\n                                                            Client:\r\n                                                </label>\r\n                                                        <div className=\"col-sm-9 mt-3 mt-sm-0\">\r\n                                                            <input type=\"text\" className=\"form-control\" name=\"client\" value={this.props.data.client} onChange={this.handleFormData} />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            \r\n                                            <div className=\"row form-group\">\r\n                                                <div className=\"col-12\">\r\n                                                    <div className=\"row\">\r\n                                                        <label className=\"col-sm-3 col-form-label\">\r\n                                                            Purpose:\r\n                                                        </label>\r\n                                                        <div className=\"col-sm-9 mt-3 mt-sm-0\">\r\n                                                            <input type=\"text\" className=\"form-control\" name=\"purpose\" value={this.props.data.purpose} onChange={this.handleFormData} />\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row form-group\">\r\n                                                <div className=\"col-12\">\r\n                                                    <div className=\"row\">\r\n                                                        <label className=\"col-sm-3 col-form-label\">\r\n                                                            Contact:\r\n                                                </label>\r\n                                                        <div className=\"col-sm-9 mt-3 mt-sm-0\">\r\n                                                            <div className=\"form-group row\">\r\n                                                                <div className=\"col-6\">\r\n                                                                    <input type=\"email\" placeholder=\"Email\" className=\"form-control\" name=\"email\" value={this.props.data.email} onChange={this.handleFormData} />\r\n                                                                </div>\r\n                                                                <div className=\"col-6\">\r\n                                                                    <input type=\"mobile\" placeholder=\"Mobile\" className=\"form-control\" name=\"mobile\" value={this.props.data.mobile} onChange={this.handleFormData} />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row form-group mt-2\">\r\n                                        <div className=\"col-12\">\r\n                                            <div className=\"row\">\r\n                                                <label className=\"col-sm-3 col-form-label\">\r\n                                                    Description *:\r\n                                        </label>\r\n                                                <div className=\"col-sm-9 mt-3 mt-sm-0\">\r\n                                                    <textarea className=\"form-control\" name=\"note\" value={this.props.data.note} onChange={this.handleFormData}></textarea>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div class=\"modal-footer\">\r\n                                    <button type=\"reset\" class=\"btn btn-default hide-modal\" data-dismiss=\"modal\">Close</button>\r\n                                    <button type=\"submit\" class=\"btn btn-success\">Save</button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}